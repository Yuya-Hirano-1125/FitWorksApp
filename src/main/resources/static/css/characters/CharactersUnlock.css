@charset "UTF-8";

/* =========================================
   FFé¢¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆã‚­ãƒ£ãƒ³ãƒ‡ã‚£ãƒ»ãƒãƒƒãƒ—ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– Ver.ï¼‰
   ========================================= */

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+JP:wght@400;700&display=swap');

:root {
    /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
    --win-bg-top: #ff7eb3;
    --win-bg-btm: #8e44ad;
    --win-border: #ffffff;
    --color-text: #ffffff;
    --color-gold: #ffeb3b;
    
    --color-fire: #ff4757;
    --color-water: #1e90ff;
    --color-grass: #2ed573;
    --color-light: #ffa502;
    --color-dark: #a55eea;

    --font-title: 'Cinzel', serif;
    --font-body: 'Noto Serif JP', serif;
}

body {
    font-family: var(--font-body);
    background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
    background-attachment: fixed;
    margin: 0;
    padding: 0;
    color: var(--color-text);
    padding-bottom: 120px; /* æˆ»ã‚‹ãƒœã‚¿ãƒ³ç”¨ã®ä½™ç™½ */
    min-height: 100vh;
}

/* =========================================
   å…±é€š: ãƒãƒƒãƒ—ãƒ»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
   ========================================= */
.ff-window {
    background: linear-gradient(180deg, var(--win-bg-top) 0%, var(--win-bg-btm) 100%);
    border: 3px solid var(--win-border);
    border-radius: 12px;
    box-shadow: 
        0 0 0 2px #ff6b81,
        0 8px 20px rgba(255, 105, 180, 0.4); 
    position: relative;
    color: #fff;
    box-sizing: border-box;
}

/* ãƒ‰ãƒƒãƒˆæŸ„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
.ff-window::before {
    content: '';
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: radial-gradient(rgba(255,255,255,0.2) 1px, transparent 1px);
    background-size: 10px 10px;
    pointer-events: none;
    border-radius: 8px;
}

/* =========================================
   ãƒ˜ãƒƒãƒ€ãƒ¼
   ========================================= */
header {
    text-align: center;
    padding: 10px;
    background: rgba(255, 255, 255, 0.3);
    border-bottom: 2px solid #fff;
    position: sticky; top: 0; z-index: 100;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.2);
}

h1 {
    margin: 0;
    font-family: var(--font-title);
    font-size: 24px; /* ã‚¹ãƒãƒ›è€ƒæ…®ã—ã¦å°‘ã—å°ã•ã */
    color: #fff;
    text-shadow: 2px 2px 0 #ff6b81;
    letter-spacing: 1px;
}

.status-bar {
    display: flex; justify-content: center; gap: 10px; margin-top: 5px;
}
.status-item {
    background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
    border: 2px solid #fff;
    border-radius: 20px;
    padding: 4px 20px;
    font-size: 14px;
    display: flex; align-items: center; gap: 5px;
    color: #fff;
    box-shadow: 0 4px 10px rgba(255, 117, 140, 0.4);
}
#current-level {
    color: var(--color-gold); font-weight: bold; font-size: 18px; text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
}

/* =========================================
   ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   ========================================= */
.battle-pass-wrapper {
    padding: 20px 0 60px;
    width: 95%;
    max-width: 1200px;
    margin: 0 auto;
}

.pass-section { margin-bottom: 50px; }

.attribute-heading {
    font-family: var(--font-body);
    font-weight: bold;
    font-size: 22px;
    margin: 0 0 15px 10px;
    text-shadow: 2px 2px 0 #fff;
    display: flex; align-items: center; gap: 10px;
    border-bottom: 4px dotted #fff;
    padding-bottom: 5px;
    max-width: fit-content;
}
.char-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}


/* ã‚¢ã‚¤ã‚³ãƒ³è‰² */
.fire-color  { color: #ff4757; text-shadow: 1px 1px 0 #fff; }
.water-color { color: #1e90ff; text-shadow: 1px 1px 0 #fff; }
.grass-color { color: #2ed573; text-shadow: 1px 1px 0 #fff; }
.light-color { color: #ffa502; text-shadow: 1px 1px 0 #fff; }
.dark-color  { color: #a55eea; text-shadow: 1px 1px 0 #fff; }

/* â˜…å¤‰æ›´ç‚¹ï¼šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å»ƒæ­¢ï¼†æ¨ªä¸€åˆ—å¼·åˆ¶ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ 
*/
.pass-track-container {
    width: 100%;
    /* overflow-x: auto; ã‚’å‰Šé™¤ */
    padding: 10px 0 30px;
}

.pass-track {
    display: flex; 
    justify-content: space-between; /* å‡ç­‰é…ç½® */
    align-items: flex-start;
    width: 100%;
    position: relative;
    gap: 10px; /* ã‚«ãƒ¼ãƒ‰é–“ã®éš™é–“ */
}

/* ãƒ«ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ */
.track-line {
    position: absolute; top: 50%; left: 0; width: 100%; height: 8px;
    background: #fff; z-index: 0;
    border: 2px solid #ffb8b8; border-radius: 4px;
}
.track-line-progress {
    position: absolute; top: 50%; left: 0; height: 8px;
    background: linear-gradient(90deg, #ff9a9e, #ff6b81);
    border-radius: 4px; z-index: 0; transition: width 1s ease;
}

/* =========================================
   ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼‰
   ========================================= */
.pass-node {
    flex: 1; /* è¦ªå¹…ã«åˆã‚ã›ã¦ä¼¸ç¸® */
    display: flex; 
    justify-content: center;
    position: relative; 
    z-index: 1;
    min-width: 0; /* Flexboxã§ã®ç¸®å°ã‚’è¨±å¯ */
}

.character-card {
    background: linear-gradient(180deg, var(--win-bg-top) 0%, var(--win-bg-btm) 100%);
    border: 3px solid #fff;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(150, 50, 100, 0.2);
    
    width: 140px; /* æ¨ªä¸¦ã³ç”¨ã«å›ºå®šå¹… */
    padding: 6px;
    text-align: center;
    transition: transform 0.2s;
    position: relative;
}

.character-card:not(.locked-card):hover {
    transform: translateY(-5px);
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(255, 105, 180, 0.5);
    border-color: #fff;
    z-index: 10; /* ãƒ›ãƒãƒ¼æ™‚ã¯å‰é¢ã¸ */
}

/* æŒ‡ã‚«ãƒ¼ã‚½ãƒ« (PCã®ã¿è¡¨ç¤º) */
@media (min-width: 769px) {
    .character-card:not(.locked-card):hover::before {
        content: "ğŸ‘‰"; position: absolute; left: -40px; top: 50%;
        font-size: 30px; color: #fff; animation: cursorBounce 0.8s infinite; z-index: 10;
        filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.1));
    }
}
@keyframes cursorBounce {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(10px); }
}

/* ç”»åƒã‚¨ãƒªã‚¢ */
.character-img-wrapper {
    width: 100%; 
    /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ç¶­æŒã—ã¤ã¤é«˜ã•ã‚’å¯å¤‰ã« */
    aspect-ratio: 1 / 0.8; 
    background: rgba(255,255,255,0.2);
    margin-bottom: 5px;
    position: relative;
    border: 2px solid #fff; border-radius: 8px;
    overflow: hidden;
}
.character-img { width: 100%; height: 100%; object-fit: contain; }

.evolution-tag {
    position: absolute; top: 0; left: 0;
    background: #ff6b81; color: #fff;
    padding: 2px 6px; font-size: 10px; font-weight: bold;
    border-bottom-right-radius: 8px;
}

/* ãƒ†ã‚­ã‚¹ãƒˆï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰ */
.character-name {
    margin: 5px 0; font-size: 14px; color: #fff; font-weight: bold;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis; /* é•·ã„åå‰ã¯çœç•¥ */
    border-bottom: 2px dotted rgba(255,255,255,0.5); padding-bottom: 5px;
}

.requirements-box {
    background: rgba(255,255,255,0.2); border-radius: 6px; padding: 4px; margin-bottom: 8px;
}
.req-row { font-size: 11px; color: #fff; display: flex; align-items: center; justify-content: center; gap: 2px; }

/* ãƒœã‚¿ãƒ³ */
.evolve-btn {
    width: 100%; padding: 6px;
    background: linear-gradient(to bottom, #74b9ff, #0984e3);
    border: 2px solid #fff; border-radius: 15px;
    color: #fff; font-size: 12px; font-weight: bold; cursor: pointer;
    box-shadow: 0 3px 0 #0984e3;
    white-space: nowrap;
}
.evolve-btn:not(.disabled):active { transform: translateY(2px); box-shadow: none; }
.evolve-btn.disabled { background: #b2bec3; border-color: #dfe6e9; color: #636e72; box-shadow: none; cursor: default; }

/* ãƒãƒ¼ãƒ‰ãƒãƒ¼ã‚«ãƒ¼ */
.node-marker {
    position: absolute; top: 50%; left: -8px; /* ã‚«ãƒ¼ãƒ‰ã®å·¦ç«¯ä»˜è¿‘ */
    transform: translateY(-50%);
    width: 16px; height: 16px;
    background: #fff; border: 3px solid #ff7eb3; border-radius: 50%;
    z-index: 2; display: flex; justify-content: center; align-items: center;
    font-size: 10px; color: #ff7eb3;
}
.pass-node:first-child .node-marker { display: none; } /* æœ€åˆã®ãƒãƒ¼ãƒ‰ã®ç·šãƒãƒ¼ã‚«ãƒ¼ã¯æ¶ˆã™ã‹èª¿æ•´ */

.pass-node.claimed .node-marker {
    background: #ffeb3b; border-color: #fff; color: #ff4757; box-shadow: 0 0 10px #ffeb3b;
}

/* ãƒ­ãƒƒã‚¯çŠ¶æ…‹ */
.locked-card { filter: grayscale(0.5) opacity(0.8); background: #6c5ce7; }
.lock-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(108, 92, 231, 0.8); border-radius: 9px;
    display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 5;
}
.lock-text { font-family: var(--font-title); font-size: 16px; margin: 2px 0; color: #fff; }
.lock-required-level {
    color: #ff4757; font-weight: bold; font-size: 10px; background: #fff;
    padding: 2px 6px; border-radius: 10px;
}

/* =========================================
   ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼é¢¨ï¼‰
   ========================================= */
   /* ===== ãƒ¢ãƒ¼ãƒ€ãƒ« ===== */
   .modal {
       position: fixed;
       inset: 0;
       background-color: rgba(0,0,0,0.7);
       opacity: 0; visibility: hidden; pointer-events: none;
       transition: opacity 0.3s ease;
       z-index: 1000;

       display: flex;              /* è¿½åŠ  */
       justify-content: center;    /* æ¨ªä¸­å¤® */
       align-items: center;        /* ç¸¦ä¸­å¤® */
   }
   .modal.show { opacity: 1; visibility: visible; pointer-events: auto; }

   /* æ­£æ–¹å½¢ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆå¸¸ã«ç”»é¢ä¸­å¤®å›ºå®šï¼‰ */
   .modal-content {
       position: relative; /* fixedã§ã¯ãªãrelativeã« */
       width: 400px; height: 400px;
       background: #fff;
       border-radius: 8px;
       padding: 20px;
       text-align: left;
       box-shadow: 0 4px 15px rgba(0,0,0,0.4);
       animation: fadeIn 0.3s ease-in-out;
       overflow-y: auto;
   }

/* å¹ãå‡ºã—ã®ä¸‰è§’ï¼ˆä¸‹å‘ãï¼‰ */
.modal-content::after {
    content: '';
    position: absolute;
    bottom: -10px; left: 50%;
    transform: translateX(-50%);
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid #fff;
}

/* å¹ãå‡ºã—ã®ä¸‰è§’ï¼ˆä¸‹å‘ãï¼‰ */
.modal-content::after {
    content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid #fff;
}

.modal-header {
    margin: 0; padding: 5px; border-bottom: 2px dashed rgba(255,255,255,0.5);
    font-family: var(--font-title); font-size: 16px; color: #fff; text-shadow: 1px 1px 0 #ff6b81;
}

.modal-body-img img { max-width: 80px; max-height: 80px; object-fit: contain; }
.modal-message { color: #fff; font-size: 12px; margin: 5px 0; }

.ff-mat-list {
    display: flex; justify-content: center; gap: 5px; margin: 10px 0;
}
.ff-mat-item {
    background: #fff; padding: 4px; border-radius: 6px; width: 50px;
    border: 2px solid #ff9ff3;
}
.ff-mat-img { width: 32px; height: 32px; object-fit: contain; }
.ff-mat-count { font-size: 11px; font-weight: bold; color: #555; }
.ff-mat-count.ok { color: #2ed573; }
.ff-mat-count.ng { color: #ff4757; }

.modal-actions { display: flex; justify-content: center; gap: 10px; }

/* =========================================
   æˆ»ã‚‹ãƒœã‚¿ãƒ³
   ========================================= */
.back-btn-container {
    position: fixed; bottom: 0; left: 0; width: 100%;
    background: rgba(255,255,255,0.8);
    backdrop-filter: blur(5px);
    padding: 15px; text-align: center;
    border-top: 2px solid #ff7eb3;
    z-index: 900;
}
.btn-back {
    display: inline-block;
    padding: 10px 40px;
    background: #ff6b81; border: 2px solid #fff; border-radius: 30px;
    color: #fff; font-weight: bold; font-size: 16px; text-decoration: none;
    box-shadow: 0 4px 10px rgba(255, 107, 129, 0.4);
    transition: transform 0.1s;
}
.btn-back:hover { transform: scale(1.05); background: #ff4757; }
.btn-back i { margin-right: 5px; }


/* =========================================
   ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒª (ã‚¹ãƒãƒ›ç”¨)
   ========================================= */
@media (max-width: 768px) {
    .pass-track { gap: 4px; padding: 0; } /* éš™é–“ã‚’è©°ã‚ã‚‹ */
    
    .character-card {
        border-width: 2px;
        padding: 4px;
        border-radius: 8px;
    }
    
    .character-img-wrapper { margin-bottom: 2px; border-width: 1px; }
    
    .character-name { font-size: 10px; margin: 2px 0; }
    
    .requirements-box { padding: 2px; margin-bottom: 4px; }
    .req-row { font-size: 9px; }
    
    .evolve-btn { font-size: 10px; padding: 4px; border-width: 1px; }
    
    .node-marker { width: 12px; height: 12px; font-size: 8px; left: -6px; border-width: 2px; }
    
    .lock-text { font-size: 12px; }
    .lock-required-level { font-size: 9px; padding: 2px 4px; }

    /* ã‚¹ãƒãƒ›ã§ã¯ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ä½ç½®èª¿æ•´ */
    .modal-content { width: 240px; }
}

/* =========================================
   ã‚·ãƒ«ã‚¨ãƒƒãƒˆåŒ–ã®è¿½åŠ è¨­å®š
   ========================================= */

/* ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã®ç”»åƒã ã‘ã‚’çœŸã£é»’ï¼ˆã‚·ãƒ«ã‚¨ãƒƒãƒˆï¼‰ã«ã™ã‚‹ */
.locked-card .character-img { 
    filter: brightness(0) opacity(0.7); /* æ˜åº¦0ã§é»’ãã—ã€å°‘ã—é€ã‘ã•ã›ã‚‹ */
    transition: all 0.5s ease;
}

/* ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã®ã‚«ãƒ¼ãƒ‰å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆæ—¢å­˜ã®èª¿æ•´ï¼‰ */
.locked-card { 
    background: #555; /* èƒŒæ™¯ã‚’å°‘ã—æš—ã */
    border-color: #888;
    box-shadow: none;
}

/* ãƒ›ãƒãƒ¼ã—ã¦ã‚‚å‹•ã‹ãªã„ã‚ˆã†ã«ã™ã‚‹ */
.locked-card:hover {
    transform: none;
    cursor: not-allowed;
    box-shadow: none;
    border-color: #888;
}

/* ãƒ­ãƒƒã‚¯æ™‚ã¯æŒ‡ã‚«ãƒ¼ã‚½ãƒ«ã‚‚å‡ºã•ãªã„ */
.locked-card:hover::before {
    display: none;
}