<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
    <meta charset="UTF-8">
    <title>進化の軌跡 - CRYSTAL PATH</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/characters/CharactersUnlock.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        .attribute-heading { font-size: 1.5rem; margin: 20px 0; }
        .fire-color { color: #ff7675; border-bottom: 2px solid #ff7675; }
        .water-color { color: #74b9ff; border-bottom: 2px solid #74b9ff; }
        .grass-color { color: #55efc4; border-bottom: 2px solid #55efc4; }
        .light-color { color: #ffeaa7; border-bottom: 2px solid #ffeaa7; }
        .dark-color { color: #a29bfe; border-bottom: 2px solid #a29bfe; }
        .secret-color { color: #dfe6e9; border-bottom: 2px solid #dfe6e9; font-style: italic; }
        .character-card { display: inline-block; margin: 10px; text-align: center; }
        .character-img-wrapper { width: 120px; height: 120px; margin: 0 auto; border-radius: 50%; overflow: hidden; border: 3px solid #ccc; }
        .character-img { width: 100%; height: 100%; object-fit: cover; }
        .requirements { font-size: 0.9rem; margin-top: 5px; }
    </style>
</head>

<body>
    <!-- ヘッダー -->
    <header>
        <h1>キャラクター解放画面</h1>
        <div class="status-bar">
            <div class="status-item">
                <i class="fa-solid fa-crown" style="color:#ffeb3b;"></i>
                Lv.<span th:text="${userLevel}">1</span>
            </div>
            <div class="status-item">
                <i class="fa-solid fa-gem"></i> 素材管理
            </div>
        </div>
    </header>

    <!-- メッセージ表示 -->
    <div class="message-container" style="max-width: 800px; margin: 10px auto;">
        <div th:if="${message}" class="alert success">
            <span th:text="${message}"></span>
        </div>
        <div th:if="${error}" class="alert error">
            <span th:text="${error}"></span>
        </div>
    </div>

    <!-- 炎属性 -->
    <div class="pass-section">
        <h2 class="attribute-heading fire-color"><i class="fa-solid fa-fire"></i> 炎属性</h2>
        <div class="char-list">
            <div th:each="chara : ${fireChars}" class="character-card fire">
                <div class="character-img-wrapper">
                    <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
                </div>
                <p class="character-name" th:text="${chara.name}">キャラ名</p>
                <span class="character-rarity" th:text="${chara.rarity}">★</span>
                <div class="requirements">
                    <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
                    <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- 水属性 -->
    <div class="pass-section">
        <h2 class="attribute-heading water-color"><i class="fa-solid fa-droplet"></i> 水属性</h2>
        <div class="char-list">
            <div th:each="chara : ${waterChars}" class="character-card water">
                <div class="character-img-wrapper">
                    <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
                </div>
                <p class="character-name" th:text="${chara.name}">キャラ名</p>
                <span class="character-rarity" th:text="${chara.rarity}">★</span>
                <div class="requirements">
                    <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
                    <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- 草属性 -->
    <div class="pass-section">
        <h2 class="attribute-heading grass-color"><i class="fa-solid fa-leaf"></i> 草属性</h2>
        <div class="char-list">
            <div th:each="chara : ${grassChars}" class="character-card grass">
                <div class="character-img-wrapper">
                    <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
                </div>
                <p class="character-name" th:text="${chara.name}">キャラ名</p>
                <span class="character-rarity" th:text="${chara.rarity}">★</span>
                <div class="requirements">
                    <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
                    <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- 光属性 -->
    <div class="pass-section">
        <h2 class="attribute-heading light-color"><i class="fa-solid fa-sun"></i> 光属性</h2>
        <div class="char-list">
            <div th:each="chara : ${lightChars}" class="character-card light">
                <div class="character-img-wrapper">
                    <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
                </div>
                <p class="character-name" th:text="${chara.name}">キャラ名</p>
                <span class="character-rarity" th:text="${chara.rarity}">★</span>
                <div class="requirements">
                    <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
                    <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- 闇属性 -->
    <div class="pass-section">
        <h2 class="attribute-heading dark-color"><i class="fa-solid fa-moon"></i> 闇属性</h2>
        <div class="char-list">
            <div th:each="chara : ${darkChars}" class="character-card dark">
                <div class="character-img-wrapper">
                    <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
                </div>
                <p class="character-name" th:text="${chara.name}">キャラ名</p>
                <span class="character-rarity" th:text="${chara.rarity}">★</span>
                <div class="requirements">
                    <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
                    <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
                </div>
            </div>
        </div>
    </div>

	<!-- シークレット属性 -->
	<div class="pass-section">
	    <h2 class="attribute-heading secret-color">
	        <i class="fa-solid fa-star"></i> シークレット属性
	    </h2>
	    <div class="char-list">
	        <div th:each="chara : ${secretChars}" class="character-card secret">
	            <div class="character-img-wrapper">
	                <img class="character-img" th:src="@{${chara.imagePath}}" th:alt="${chara.name}">
	            </div>
	            <p class="character-name" th:text="${chara.name}">キャラ名</p>
	            <span class="character-rarity" th:text="${chara.rarity}">★</span>
	            <div class="requirements">
	                <span>必要Lv: <span th:text="${chara.requiredLevel}">1</span></span>
	                <span>素材: <span th:text="${chara.unlockCost}">0</span></span>
	            </div>
	        </div>
	    </div>
	</div>


	    <!-- 戻るボタン -->
	    <div class="back-btn-container" style="margin:20px;">
	        <a th:href="@{/characters}" class="btn-back"><i class="fa-solid fa-reply"></i> 戻る</a>
	    </div>
	</body>
	</html>

