<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç≠„É£„É©„ÇØ„Çø„ÉºËß£ÊîæÁîªÈù¢</title>

    <link rel="stylesheet" th:href="@{/css/characters/CharactersStorage.css}">
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script th:src="@{/js/theme.js}"></script>
</head>
<body>
    <div id="lock-message" class="hidden">
        „Åì„ÅÆ„Ç≠„É£„É©„ÇØ„Çø„Éº„ÅØ„É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„É¨„Éô„É´„ÅåË∂≥„Çä„Åæ„Åõ„Çì„ÄÇ
    </div>
    
    <header>
        <h1>„Ç≠„É£„É©„ÇØ„Çø„ÉºËß£Êîæ</h1>
        <p class="user-level">ÁèæÂú®„ÅÆ„É¨„Éô„É´: <span id="current-level" th:text="${currentLevel}">1</span></p>
    </header>

    <div class="character-list-wrapper">
        <div class="character-groups-container">

            <div class="attribute-group">
                <h2 class="attribute-heading fire-color">üî• ÁÇéÂ±ûÊÄß</h2>
                <div class="character-list-container" id="character-container-fire">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'fire'}">
                            
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                
                                <div class="character-card" 
                                     th:classappend="${!chara.isUnlocked} ? 'locked-card-style'"
                                     th:data-attribute="${chara.attribute}" 
                                     th:data-unlocked-level="${chara.requiredLevel}">
                                    
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">‚òÖ1</div>
                                        
                                        <img class="character-img" 
                                             th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_locked.png'" 
                                             th:alt="${chara.name}">
                                        
                                        <p class="character-name" th:text="${chara.name}">ÂêçÁß∞Êú™Ë®≠ÂÆö</p>
                                        
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.1 Ëß£Êîæ</p>
                                    </div>

                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">1</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

            <div class="attribute-group">
                <h2 class="attribute-heading water-color">üíß Ê∞¥Â±ûÊÄß</h2>
                <div class="character-list-container" id="character-container-water">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'water'}">
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                <div class="character-card" th:classappend="${!chara.isUnlocked} ? 'locked-card-style'">
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">‚òÖ1</div>
                                        <img class="character-img" th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_locked.png'" th:alt="${chara.name}">
                                        <p class="character-name" th:text="${chara.name}">ÂêçÁß∞Êú™Ë®≠ÂÆö</p>
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.1 Ëß£Êîæ</p>
                                    </div>
                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">1</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

            <div class="attribute-group">
                <h2 class="attribute-heading wind-color">üçÉ ËçâÂ±ûÊÄß</h2>
                <div class="character-list-container" id="character-container-wind">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'grass' or chara.attribute == 'wind'}">
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                <div class="character-card" th:classappend="${!chara.isUnlocked} ? 'locked-card-style'">
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">‚òÖ1</div>
                                        <img class="character-img" th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_locked.png'" th:alt="${chara.name}">
                                        <p class="character-name" th:text="${chara.name}">ÂêçÁß∞Êú™Ë®≠ÂÆö</p>
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.1 Ëß£Êîæ</p>
                                    </div>
                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">1</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

            <div class="attribute-group">
                <h2 class="attribute-heading light-color">‚ú® ÂÖâÂ±ûÊÄß</h2>
                <div class="character-list-container" id="character-container-light">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'light'}">
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                <div class="character-card" th:classappend="${!chara.isUnlocked} ? 'locked-card-style'">
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">‚òÖ1</div>
                                        <img class="character-img" th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_locked.png'" th:alt="${chara.name}">
                                        <p class="character-name" th:text="${chara.name}">ÂêçÁß∞Êú™Ë®≠ÂÆö</p>
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.1 Ëß£Êîæ</p>
                                    </div>
                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">1</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

            <div class="attribute-group">
                <h2 class="attribute-heading dark-color">üåô ÈóáÂ±ûÊÄß</h2>
                <div class="character-list-container" id="character-container-dark">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'dark'}">
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                <div class="character-card" th:classappend="${!chara.isUnlocked} ? 'locked-card-style'">
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">‚òÖ1</div>
                                        <img class="character-img" th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_locked.png'" th:alt="${chara.name}">
                                        <p class="character-name" th:text="${chara.name}">ÂêçÁß∞Êú™Ë®≠ÂÆö</p>
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.1 Ëß£Êîæ</p>
                                    </div>
                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">1</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

            <div class="attribute-group">
                <h2 class="attribute-heading secret-color">??? „Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà</h2>
                <div class="character-list-container" id="character-container-secret">
                    <th:block th:each="chara : ${charaList}">
                        <th:block th:if="${chara.attribute == 'secret'}">
                            <a th:href="@{'/characters/info/' + ${chara.id}}" class="character-link">
                                <div class="character-card dark" 
                                     th:classappend="${!chara.isUnlocked} ? 'locked-card-style'"
                                     data-attribute="dark">
                                    <div class="card-content">
                                        <div class="evolution-tag" th:text="${chara.evolutionTag}">???</div>
                                        <img class="character-img" 
                                             th:src="${chara.isUnlocked} ? ${chara.imgUrl} : '/img/placeholder_final.png'" 
                                             th:alt="${chara.name}">
                                        <p class="character-name" th:text="${chara.name}">„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà</p>
                                        <p class="required-level" th:text="'Lv.' + ${chara.requiredLevel} + ' Ëß£Êîæ'">Lv.250 Ëß£Êîæ</p>
                                    </div>
                                    <div class="lock-overlay" th:if="${!chara.isUnlocked}">
                                        <span class="lock-icon">üîí</span>
                                        <p class="lock-text">LOCKED</p>
                                        <p class="lock-required-level">Lv.<span class="required-level-display" th:text="${chara.requiredLevel}">250</span>„ÅßËß£Êîæ</p>
                                    </div>
                                </div>
                            </a>
                        </th:block>
                    </th:block>
                </div>
            </div>

        </div>
    </div>
    
    <div class="back-btn-container">
        <a th:href="@{/characters}" class="btn-back">
            <i class="fa-solid fa-reply"></i> „Ç≠„É£„É©„ÇØ„Çø„Éº„É°„Éã„É•„Éº„Å∏Êàª„Çã
        </a>
    </div>

    <script>
        // ÂøÖË¶Å„Å´Âøú„Åò„Å¶JSÂá¶ÁêÜ„ÇíËøΩÂä†
    </script>
</body>
</html>