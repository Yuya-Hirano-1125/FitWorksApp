<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>é£Ÿäº‹è¨˜éŒ²ä¸€è¦§ | FitWorks</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/training-log.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* ãƒšãƒ¼ã‚¸å…¨ä½“ã¨ã‚³ãƒ³ãƒ†ãƒŠã®èª¿æ•´ */
        .log-form-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
        }
        
        /* è¨˜éŒ²ãŒãªã„å ´åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
        .empty-message {
            text-align: center;
            padding: 40px;
            background-color: #e8f5e9;
            border-radius: 8px;
            color: #4CAF50;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        /* æ–°ã—ã„é£Ÿäº‹è¨˜éŒ²ã¸ã®ãƒœã‚¿ãƒ³ */
        .back-to-form {
            display: block;
            text-align: center;
            margin: 20px auto 30px auto;
            padding: 12px 20px;
            background-color: #4CAF50; /* ç·‘ */
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.2s;
        }
        .back-to-form:hover {
            background-color: #45a049;
        }

        /* é£Ÿäº‹ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .meal-record-list {
            list-style: none;
            padding: 0;
            margin-top: 0;
        }
        .meal-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-left: 5px solid #4CAF50; /* å·¦å´ã®ãƒ©ã‚¤ãƒ³ã§å¼·èª¿ */
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.2s;
        }
        .meal-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .meal-card h3 {
            margin-top: 0;
            padding-bottom: 5px;
            color: #4CAF50;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .meal-card .meal-time {
            font-size: 0.9em;
            color: #777;
        }

        /* ãƒã‚¯ãƒ­æ „é¤Šç´ ã®è¡¨ç¤º (PFC) */
        .macro-data {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
        .macro-item {
            text-align: center;
            flex: 1;
            padding: 0 5px;
            font-size: 0.9em;
        }
        .macro-item span {
            color: #777;
        }
        .macro-item strong {
            display: block;
            font-size: 1.3em;
            margin-top: 2px;
        }
        /* ã‚«ãƒ­ãƒªãƒ¼å¼·èª¿ */
        .total-calories {
            font-size: 1.2em;
            font-weight: bold;
            margin: 10px 0;
            padding: 5px 0;
            color: #E67E22; /* ç›®ç«‹ã¤ã‚ªãƒ¬ãƒ³ã‚¸ */
            text-align: center;
            background-color: #fff3e0;
            border-radius: 4px;
        }
        /* P F C ã®è‰²åˆ†ã‘ */
        .protein-value { color: #3498db; }
        .fat-value { color: #e74c3c; }
        .carb-value { color: #f1c40f; }
    </style>
</head>
<body>
    <div th:insert="~{fragments/header :: header}"></div>

    <main class="log-form-container">
        <h1>ğŸ½ï¸ é£Ÿäº‹è¨˜éŒ²ä¸€è¦§</h1>

        <a th:href="@{/log/meal/form}" class="button primary">æ–°ã—ã„é£Ÿäº‹ã‚’è¨˜éŒ²ã™ã‚‹</a>
		<div style="text-align: center; margin-top: 30px;">
			<a th:href="@{/home}" class="button secondary">
						<i class="fa-solid fa-house"></i> ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
				</a>
		</div>
        <div th:if="${#lists.isEmpty(mealRecords)}" class="empty-message">
            <p>ã¾ã é£Ÿäº‹ã®è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚è¨˜éŒ²ã‚’é–‹å§‹ã—ã¦å¥åº·ç®¡ç†ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼</p>
        </div>
        
        <ul th:unless="${#lists.isEmpty(mealRecords)}" class="meal-record-list">
            <li th:each="record : ${mealRecords}" class="meal-card">
                
                <h3>
                    <span th:text="${record.mealType}">æœé£Ÿ</span>
                    <span class="meal-time" th:text="${#temporals.format(record.mealDateTime, 'yyyyå¹´MMæœˆddæ—¥ HH:mm')}"></span>
                </h3>
                
                <div class="total-calories">
                    ç·ã‚«ãƒ­ãƒªãƒ¼: <span th:text="${record.calories ?: 0}">0</span> kcal
                </div>

                <p style="margin-top: 15px;">å†…å®¹: <span th:text="${record.content}"></span></p>

                <div class="macro-data">
                    <div class="macro-item">
                        <span>ã‚¿ãƒ³ãƒ‘ã‚¯è³ª (P)</span>
                        <strong class="protein-value" th:text="${#numbers.formatDecimal(record.protein ?: 0, 1, 1)} + 'g'">0.0g</strong>
                    </div>
                    <div class="macro-item">
                        <span>è„‚è³ª (F)</span>
                        <strong class="fat-value" th:text="${#numbers.formatDecimal(record.fat ?: 0, 1, 1)} + 'g'">0.0g</strong>
                    </div>
                    <div class="macro-item">
                        <span>ç‚­æ°´åŒ–ç‰© (C)</span>
                        <strong class="carb-value" th:text="${#numbers.formatDecimal(record.carbohydrate ?: 0, 1, 1)} + 'g'">0.0g</strong>
                    </div>
                </div>
            </li>
        </ul>

    </main>

    <div th:insert="~{fragments/footer :: footer}"></div>
</body>
</html>