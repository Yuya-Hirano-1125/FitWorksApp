<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>é£Ÿäº‹è¨˜éŒ²</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/training-log.css}">
	<style>
	    /* ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä¸­å¤®ã«é…ç½® */
	    .log-form-container {
	        max-width: 600px;
	        margin: 40px auto;
	        padding: 20px;
	        background-color: #ffffff;
	        border-radius: 10px;
	        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	    }
	    /* ãƒ•ã‚©ãƒ¼ãƒ ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
	    .form-card {
	        padding: 20px;
	    }
	    /* ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã®é–“éš” */
	    .form-group {
	        margin-bottom: 15px;
	    }
	    /* ãƒ©ãƒ™ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« */
	    .form-group label {
	        display: block;
	        margin-bottom: 5px;
	        font-weight: bold;
	        color: #333;
	    }
	    /* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
	    .form-group input[type="date"],
	    .form-group input[type="time"],
	    .form-group input[type="number"],
	    .form-group textarea,
	    .form-group select {
	        width: 100%;
	        padding: 10px;
	        border: 1px solid #ccc;
	        border-radius: 5px;
	        box-sizing: border-box; /* paddingã‚’widthã«å«ã‚ã‚‹ */
	        font-size: 1em;
	        transition: border-color 0.2s;
	    }
	    .form-group input:focus,
	    .form-group select:focus,
	    .form-group textarea:focus {
	        border-color: #4CAF50; /* ç„¦ç‚¹ãŒå½“ãŸã£ãŸã¨ãã®è‰² */
	        outline: none;
	    }
	    /* é€ä¿¡ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
	    .submit-button {
	        width: 100%;
	        padding: 12px;
	        background-color: #4CAF50; /* é£Ÿäº‹è¨˜éŒ²ã«åˆã‚ã›ãŸç·‘è‰² */
	        color: white;
	        border: none;
	        border-radius: 5px;
	        font-size: 1.1em;
	        cursor: pointer;
	        margin-top: 20px;
	        transition: background-color 0.2s, transform 0.2s;
	    }
	    .submit-button:hover {
	        background-color: #45a049;
	        transform: translateY(-1px);
	    }
	    /* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
	    .error-message {
	        color: red;
	        font-size: 0.9em;
	        margin-top: 5px;
	    }
	</style>
	</head>
<body>
    <div th:insert="~{fragments/header :: header}"></div> 

    <main class="log-form-container">
        <h1>é£Ÿäº‹è¨˜éŒ²ã®å…¥åŠ›</h1>

        <form th:action="@{/log/meal/save}" th:object="${mealLogForm}" method="post" class="form-card">
            
            <div class="form-group">
                <label for="date">æ—¥ä»˜:</label>
                <input type="date" id="date" th:field="*{date}" required>
                <div th:if="${#fields.hasErrors('date')}" th:errors="*{date}" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="time">æ™‚åˆ»:</label>
                <input type="time" id="time" th:field="*{time}" required>
                <div th:if="${#fields.hasErrors('time')}" th:errors="*{time}" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="mealType">é£Ÿäº‹ã®ç¨®é¡:</label>
                <select id="mealType" th:field="*{mealType}" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="æœé£Ÿ">æœé£Ÿ</option>
                    <option value="æ˜¼é£Ÿ">æ˜¼é£Ÿ</option>
                    <option value="å¤•é£Ÿ">å¤•é£Ÿ</option>
                    <option value="é–“é£Ÿ">é–“é£Ÿ</option>
                </select>
                <div th:if="${#fields.hasErrors('mealType')}" th:errors="*{mealType}" class="error-message"></div>
            </div>
            
            <div class="form-group">
                <label for="content">é£Ÿäº‹å†…å®¹:</label>
                <textarea id="content" th:field="*{content}" rows="3" placeholder="ä¾‹: ã”é£¯1è†³, ç„¼ãé­š, å‘³å™Œæ±" required></textarea>
                <div th:if="${#fields.hasErrors('content')}" th:errors="*{content}" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="calories">ã‚«ãƒ­ãƒªãƒ¼ (kcal):</label>
                <input type="number" id="calories" th:field="*{calories}" min="0" required>
                <div th:if="${#fields.hasErrors('calories')}" th:errors="*{calories}" class="error-message"></div>
            </div>
            
            <div class="form-group">
                <label for="protein">ã‚¿ãƒ³ãƒ‘ã‚¯è³ª (g) (ä»»æ„):</label>
                <input type="number" id="protein" th:field="*{protein}" min="0" step="0.1">
            </div>

            <div class="form-group">
                <label for="fat">è„‚è³ª (g) (ä»»æ„):</label>
                <input type="number" id="fat" th:field="*{fat}" min="0" step="0.1">
            </div>

            <div class="form-group">
                <label for="carbohydrate">ç‚­æ°´åŒ–ç‰© (g) (ä»»æ„):</label>
                <input type="number" id="carbohydrate" th:field="*{carbohydrate}" min="0" step="0.1">
            </div>

            <button type="submit" class="submit-button">è¨˜éŒ²ã‚’ä¿å­˜</button>
        </form>

        <a th:href="@{/log/meal/all}" class="back-link">é£Ÿäº‹è¨˜éŒ²ä¸€è¦§ã¸</a>
		<div style="text-align: center; margin-top: 30px;">
				        <a th:href="@{/home}" class="button button-primary">
				            ğŸ  ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
				        </a>
		</div>
    </main>

    <div th:insert="~{fragments/footer :: footer}"></div>
</body>
</html>