version: '3.8' # â˜… ã“ã®è¡Œã¯å‰Šé™¤ã—ã¦ã‚‚OKã§ã™ (è­¦å‘ŠãŒå‡ºãªããªã‚‹)

services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    image: fitworks-backend:latest
    container_name: fitworks_backend
    ports:
      - "8085:8086"
    environment:
      # ğŸš¨ APIã‚­ãƒ¼ã®æŒ‡å®š
      GEMINI_API_KEY: ${GEMINI_API_KEY}
      # ğŸ”‘ SQLiteãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ˜ç¤ºçš„ã«ä¸Šæ›¸ã
      # DBãƒ•ã‚¡ã‚¤ãƒ«ã‚’ /app/data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã‚Œã¾ã™
      SPRING_DATASOURCE_URL: jdbc:sqlite:/app/data/fitworks.db
	  volumes:
	        # ä½œæˆã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ã®DBãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã®æ‰€å®šã®ä½ç½®ã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹
	        - /Users/yuya/FitWorksApp/fitworks.db:/app/data/fitworks.db