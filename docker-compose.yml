version: '3.8' # â˜… ã“ã®è¡Œã¯å‰Šé™¤ã—ã¦ã‚‚OKã§ã™ (è­¦å‘ŠãŒå‡ºãªããªã‚‹)

services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    image: fitworks-backend:latest
    container_name: fitworks_backend
    ports:
      - "8085:8086"
    environment:
      # ğŸš¨ APIã‚­ãƒ¼ã®æŒ‡å®š
      GEMINI_API_KEY: ${GEMINI_API_KEY}
      # ğŸ”‘ SQLiteãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ˜ç¤ºçš„ã«ä¸Šæ›¸ã
      # DBãƒ•ã‚¡ã‚¤ãƒ«ã‚’ /app/data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã‚Œã¾ã™
      SPRING_DATASOURCE_URL: jdbc:sqlite:/app/data/fitworks.db
    volumes:
      # ğŸ”‘ æ°¸ç¶šåŒ–è¨­å®š: macOSå´ã® volume ã‚’ ã‚³ãƒ³ãƒ†ãƒŠå†…ã® /app/data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒãƒƒãƒ”ãƒ³ã‚°
      - sqlite_data:/app/data

# ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ã®ãŸã‚ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å®šç¾©
volumes:
  sqlite_data:

